<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internet Experience Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-attachment: fixed;
            overflow-x: hidden;
        }

        .browser-chrome {
            background: linear-gradient(to bottom, #e8e8e8, #d0d0d0);
            padding: 10px;
            border-bottom: 2px solid #999;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .url-bar {
            background: white;
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 14px;
        }

        .main-content {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
        }

        .main-content h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .main-content h2 {
            color: #34495e;
            margin: 25px 0 15px 0;
            font-size: 22px;
            border-left: 4px solid #667eea;
            padding-left: 10px;
        }

        .main-content p {
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 16px;
            color: #333;
        }

        .popup {
            position: fixed;
            background: white;
            border: 2px solid #333;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 8px;
            z-index: 1000;
            min-width: 320px;
            max-width: 600px;
            animation: popIn 0.3s ease-out;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .popup.large {
            max-width: 700px;
            width: 90vw;
        }

        @keyframes popIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .popup-header {
            background: linear-gradient(to bottom, #4a90e2, #357abd);
            color: white;
            padding: 8px 12px;
            margin: -20px -20px 15px -20px;
            border-radius: 6px 6px 0 0;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .popup-close {
            background: #d9534f;
            border: none;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
        }

        .popup-close:hover {
            background: #c9302c;
        }

        .popup-content {
            margin-bottom: 15px;
        }

        .popup-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .popup-buttons button {
            flex: 1;
            min-width: 100px;
            padding: 10px;
            font-size: 14px;
            cursor: pointer;
            border: 1px solid #ccc;
            border-radius: 4px;
            background: #f8f8f8;
            transition: background 0.2s;
        }

        .popup-buttons button:hover {
            background: #e8e8e8;
        }

        .popup-buttons button.primary {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .popup-buttons button.primary:hover {
            background: #45a049;
        }

        .warning {
            border-color: #ff6b6b;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .warning .popup-header {
            background: linear-gradient(to bottom, #ff6b6b, #d63031);
        }

        .floating-message {
            position: fixed;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border: 3px solid #FF6347;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(255, 99, 71, 0.5);
            z-index: 998;
            cursor: pointer;
            max-width: 300px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            animation: floatAnim 3s ease-in-out infinite;
        }

        @keyframes floatAnim {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .click-area {
            color: #667eea;
            text-decoration: underline;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .click-area:hover {
            color: #f5576c;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(245, 87, 108, 0.1) 100%);
            padding: 2px 4px;
            border-radius: 3px;
        }

        .button-area {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 5px;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(245, 87, 108, 0.4);
            transition: transform 0.2s;
        }

        .button-area:hover {
            background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(245, 87, 108, 0.6);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 997;
            cursor: pointer;
        }

        .instruction-box {
            background: linear-gradient(135deg, #56ccf2 0%, #2f80ed 100%);
            color: white;
            border-left: 4px solid #1a5490;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            border-radius: 4px;
        }

        .instruction-box strong {
            color: #fff;
        }

        .metadata {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
            padding: 10px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 4px;
            border-left: 3px solid #667eea;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.3s;
        }

        .form-group {
            margin: 15px 0;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }

        .countdown {
            color: #f44336;
            font-weight: bold;
            font-size: 18px;
        }

        .partner-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ccc;
            padding: 10px;
            margin: 15px 0;
            background: #f9f9f9;
        }

        .partner-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 13px;
        }

        .partner-item:hover {
            background: #f0f0f0;
        }

        .partner-name {
            flex: 1;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
            margin-left: 10px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #4CAF50;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        .toggle-switch input:checked + .slider {
            background-color: #4CAF50;
        }

        .toggle-switch input:not(:checked) + .slider {
            background-color: #ccc;
        }

        .toggle-switch input:checked + .slider:before {
            transform: translateX(26px);
        }

        .partner-list-header {
            background: #e3f2fd;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            font-weight: bold;
        }

        .partner-category {
            background: #f5f5f5;
            padding: 6px 8px;
            margin-top: 10px;
            font-weight: bold;
            color: #555;
            border-left: 3px solid #2196F3;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 15px;
                margin: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="browser-chrome">
        <div class="url-bar">üîí https://www.healthnews-today.com/staying-connected</div>
    </div>

    <div class="main-content">
        <div class="instruction-box">
            <strong>üì± Experience Simulator:</strong> Try to read this article about staying connected online. Click any link or button to see what happens next.
        </div>

        <h1>Staying Connected: A Guide for Seniors in the Digital Age</h1>
        <div class="metadata">Published: Today | 5 min read | Category: Technology</div>

        <p>The internet has become an essential tool for staying connected with family and friends. Many seniors are discovering the joy of <span class="click-area" data-trigger="video-call">video calling their grandchildren</span>, sharing photos on social media, and accessing important services from the comfort of their homes.</p>

        <p>However, navigating the digital world can feel overwhelming at first. From <span class="click-area" data-trigger="cookies">accepting cookie notices</span> to understanding <span class="click-area" data-trigger="security">online security</span>, there are many new concepts to learn.</p>

        <h2>Getting Started with Email</h2>
        <p>Email remains one of the most popular ways to stay in touch. To set up your first email account, <span class="click-area" data-trigger="email-setup">click here for our step-by-step guide</span>. Remember to choose a strong password and never share it with anyone you don't trust.</p>

        <p>Many people worry about <span class="click-area" data-trigger="scam">spam and scam emails</span>. If something seems too good to be true, it probably is. Be cautious of emails asking for personal information or promising prizes.</p>

        <h2>Social Media and Video Calls</h2>
        <p>Platforms like Facebook and WhatsApp make it easy to share life's moments with loved ones. You can <span class="click-area" data-trigger="social">join our community</span> to learn tips and tricks from other seniors who are already online.</p>

        <p>Video calling has revolutionized how families stay connected. Services like Zoom, Skype, and FaceTime allow you to see and hear your family members, no matter where they are in the world. <span class="click-area" data-trigger="video-guide">Learn how to make your first video call</span> with our simple tutorial.</p>

        <h2>Online Shopping and Banking</h2>
        <p>The convenience of online shopping means you can <span class="click-area" data-trigger="shopping">order groceries</span>, medications, and other essentials without leaving home. Most websites offer easy-to-follow checkout processes and secure payment options.</p>

        <p>Online banking allows you to <span class="click-area" data-trigger="banking">check your balance, pay bills, and transfer money</span> at any time. While it may seem intimidating at first, most banks offer excellent customer support to help you get started.</p>

        <div style="margin: 30px 0; text-align: center;">
            <span class="button-area" data-trigger="newsletter">Subscribe to Our Newsletter</span>
            <span class="button-area" data-trigger="course">Take Our Free Course</span>
        </div>

        <h2>Staying Safe Online</h2>
        <p>Remember these key safety tips: Never share your passwords, be skeptical of unsolicited messages, and always verify the website address before entering personal information. If you're unsure about something, <span class="click-area" data-trigger="help">ask for help</span> from a trusted family member or friend.</p>
    </div>

    <script>
        let popupCounter = 0;
        let bannerCounter = 0;
        let occupiedPositions = {
            top: false,
            bottom: false,
            side: false
        };

        // Virus/scam popups that appear when clicking banners
        const virusPopups = [
            {
                title: "‚ö†Ô∏è WINDOWS SECURITY ALERT",
                message: "CRITICAL ERROR: Your computer has been infected with 47 viruses! Click 'Remove Now' to clean your system.",
                buttons: [
                    { text: "Remove Now", next: "virus-payment" },
                    { text: "Scan System", next: "virus-scan" },
                    { text: "Ignore (Not Recommended)", next: "virus-warning" }
                ],
                isWarning: true
            },
            {
                title: "üí≥ PAYMENT VERIFICATION REQUIRED",
                message: "To activate your free prize, please verify your payment information. This is just for age verification purposes.",
                buttons: [
                    { text: "Enter Card Details", next: "payment-form" },
                    { text: "Why is this needed?", next: "payment-form" },
                    { text: "Cancel", next: "end" }
                ],
                hasForm: true,
                formFields: ['Card Number', 'Expiry Date', 'CVV', 'Billing ZIP']
            },
            {
                title: "üö® SYSTEM32 ERROR",
                message: "FATAL: system32.dll is missing or corrupted. Download repair tool immediately or your computer will shut down in 5 minutes.",
                buttons: [
                    { text: "Download Repair Tool", next: "virus-download" },
                    { text: "Restart Computer", next: "virus-warning" },
                    { text: "Contact Support ($99.99)", next: "payment-form" }
                ],
                isWarning: true
            },
            {
                title: "üè¶ BANK VERIFICATION",
                message: "Your bank account has been temporarily suspended. Verify your identity to restore access immediately.",
                buttons: [
                    { text: "Verify Now", next: "bank-form" },
                    { text: "Call Bank", next: "fake-number" },
                    { text: "Learn More", next: "bank-form" }
                ],
                hasForm: true,
                formFields: ['Account Number', 'Routing Number', 'SSN', 'PIN']
            },
            {
                title: "üì• DOWNLOAD COMPLETE",
                message: "FreePrizeWinner.exe has been downloaded. Click 'Run' to claim your prize! File size: 2.3GB",
                buttons: [
                    { text: "Run File", next: "virus-installing" },
                    { text: "Open Folder", next: "virus-installing" },
                    { text: "Scan for Viruses", next: "virus-scan" }
                ]
            },
            {
                title: "üîí MCAFEE SUBSCRIPTION EXPIRED",
                message: "Your McAfee subscription has expired! Your computer is at risk. Renew now for only $299.99/year.",
                buttons: [
                    { text: "Renew Now", next: "payment-form" },
                    { text: "Enter Product Key", next: "product-key" },
                    { text: "Decline Protection", next: "virus-warning" }
                ],
                isWarning: true
            },
            {
                title: "üí∞ WIRE TRANSFER REQUIRED",
                message: "To claim your $10,000 prize, you must first pay $250 processing fee via wire transfer. This is standard procedure.",
                buttons: [
                    { text: "Send Wire Transfer", next: "bank-form" },
                    { text: "Western Union", next: "bank-form" },
                    { text: "Pay with Gift Cards", next: "gift-card-form" }
                ]
            },
            {
                title: "üÜò MICROSOFT SUPPORT",
                message: "This is Microsoft Support. We detected suspicious activity. Call this number immediately: 1-800-SCAMMER. Do NOT turn off your computer!",
                buttons: [
                    { text: "Call Now", next: "fake-support" },
                    { text: "Chat with Support", next: "fake-support" },
                    { text: "Remote Access", next: "remote-access" }
                ],
                isWarning: true
            },
            {
                title: "üìß VERIFY YOUR EMAIL",
                message: "Your email account will be deleted in 24 hours unless you verify. Enter your password below to keep your account.",
                buttons: [
                    { text: "Verify Account", next: "password-form" },
                    { text: "Resend Email", next: "password-form" },
                    { text: "Contact Support", next: "fake-support" }
                ],
                hasForm: true,
                formFields: ['Email Address', 'Current Password', 'Date of Birth']
            },
            {
                title: "‚ö° POWER SURGE DETECTED",
                message: "CRITICAL: Power surge detected! Purchase UPS Battery Backup now to protect your computer. Limited time: $499.99 $99.99",
                buttons: [
                    { text: "Buy Now", next: "payment-form" },
                    { text: "Add to Cart", next: "payment-form" },
                    { text: "Risk Data Loss", next: "virus-warning" }
                ],
                isWarning: true
            }
        ];
        const bannerAds = [
            { emoji: "üí∞", text: "EARN $5000 FROM HOME!\\nLIMITED SPOTS!", bg: "#f093fb, #f5576c" },
            { emoji: "üé∞", text: "YOU WON $10,000!\\nCLAIM NOW!", bg: "#FFD700, #FF8C00" },
            { emoji: "‚ö°", text: "HOT SINGLES NEAR YOU!\\nCLICK HERE!", bg: "#FF1744, #F50057" },
            { emoji: "üíä", text: "DOCTORS HATE THIS!\\nLOSE 50 LBS FAST!", bg: "#00E676, #00C853" },
            { emoji: "üö®", text: "VIRUS ALERT!\\nSCAN YOUR PC NOW!", bg: "#FF5252, #D32F2F" },
            { emoji: "üè†", text: "BUY HOMES FOR $1!\\nCLICK TO SEE HOW!", bg: "#536DFE, #3D5AFE" },
            { emoji: "üì±", text: "FREE iPHONE 15!\\nLAST CHANCE!", bg: "#00BCD4, #0097A7" },
            { emoji: "üí≥", text: "YOUR CARD DECLINED!\\nUPDATE NOW!", bg: "#FF6F00, #E65100" },
            { emoji: "üéÅ", text: "AMAZON GIFT CARD!\\n$500 FREE!", bg: "#AA00FF, #7C4DFF" },
            { emoji: "‚è∞", text: "OFFER EXPIRES IN 5 MIN!\\nBUY NOW!", bg: "#FF9800, #F57C00" }
        ];

        function createBanner() {
            // Check if all positions are occupied
            const availablePositions = Object.keys(occupiedPositions).filter(pos => !occupiedPositions[pos]);
            
            if (availablePositions.length === 0) {
                console.log('All positions occupied, skipping banner creation');
                return; // Don't create banner if all spots taken
            }
            
            bannerCounter++;
            console.log(`Creating banner #${bannerCounter}`);
            
            const ad = bannerAds[Math.floor(Math.random() * bannerAds.length)];
            // Only choose from available positions
            const position = availablePositions[Math.floor(Math.random() * availablePositions.length)];
            
            // Mark position as occupied
            occupiedPositions[position] = true;
            
            console.log(`Creating banner at position: ${position} (available were: ${availablePositions.join(', ')})`);
            
            const banner = document.createElement('div');
            banner.style.position = 'fixed';
            banner.style.zIndex = '999';
            banner.style.cursor = 'pointer';
            banner.style.background = `linear-gradient(135deg, ${ad.bg})`;
            banner.style.color = 'white';
            banner.style.fontWeight = 'bold';
            banner.style.textAlign = 'center';
            banner.style.display = 'flex';
            banner.style.alignItems = 'center';
            banner.style.justifyContent = 'center';
            banner.style.border = '3px solid white';
            banner.style.boxShadow = '0 4px 20px rgba(0,0,0,0.5)';
            banner.style.padding = '15px';
            banner.style.opacity = '0';
            banner.style.transition = 'opacity 0.5s ease-in';
            
            if (position === 'bottom') {
                banner.style.bottom = '0';
                banner.style.left = '50%';
                banner.style.transform = 'translateX(-50%)';
                banner.style.width = '90%';
                banner.style.maxWidth = '728px';
                banner.style.height = '90px';
                banner.style.fontSize = '20px';
            } else if (position === 'top') {
                banner.style.top = '60px';
                banner.style.left = '50%';
                banner.style.transform = 'translateX(-50%)';
                banner.style.width = '90%';
                banner.style.maxWidth = '970px';
                banner.style.height = '90px';
                banner.style.fontSize = '22px';
            } else {
                banner.style.right = '0';
                banner.style.top = '120px';
                banner.style.width = '160px';
                banner.style.height = '600px';
                banner.style.fontSize = '16px';
                banner.style.flexDirection = 'column';
            }
            
            banner.innerHTML = `
                <div style="font-size: 40px; animation: bounce 1s infinite;">${ad.emoji}</div>
                <div style="text-shadow: 2px 2px 4px rgba(0,0,0,0.8); line-height: 1.3;">${ad.text.replace('\\n', '<br>')}</div>
                <div style="font-size: 40px; animation: bounce 1s infinite;">${ad.emoji}</div>
            `;
            
            banner.onclick = function() {
                console.log('Banner clicked at position:', position);
                occupiedPositions[position] = false; // Free up the position
                document.body.removeChild(banner);
                
                // VIRUS ATTACK! Create 6-8 popups all at once!
                const numPopups = Math.floor(Math.random() * 3) + 6; // 6-8 popups
                console.log(`VIRUS ATTACK! Creating ${numPopups} popups!`);
                
                for (let i = 0; i < numPopups; i++) {
                    setTimeout(() => {
                        const randomVirus = virusPopups[Math.floor(Math.random() * virusPopups.length)];
                        createPopup(randomVirus);
                    }, i * 150); // Stagger them slightly so they cascade
                }
                
                // Also create one new banner after a delay
                setTimeout(() => createBanner(), 2000);
            };
            
            document.body.appendChild(banner);
            
            // Fade in
            setTimeout(() => {
                banner.style.opacity = '1';
            }, 10);
            
            console.log(`Banner #${bannerCounter} added to page at position: ${position}`);
            
            // Auto-remove and replace after 10 seconds
            setTimeout(() => {
                if (banner.parentNode) {
                    banner.style.opacity = '0';
                    setTimeout(() => {
                        if (banner.parentNode) {
                            document.body.removeChild(banner);
                            occupiedPositions[position] = false; // Free up the position
                            console.log(`Position ${position} freed`);
                        }
                    }, 500);
                }
            }, 10000);
        }

        // Define conversation tree (keeping same as before)
        const conversationTree = {
            'virus-payment': [
                {
                    title: "üí≥ PAYMENT REQUIRED",
                    message: "SecureClean Pro costs only $299.99 to remove all viruses. Enter your credit card information below:",
                    buttons: [
                        { text: "Pay Now", next: "processing-payment" },
                        { text: "Use PayPal", next: "processing-payment" },
                        { text: "Cancel", next: "cancel-warning" }
                    ],
                    hasForm: true,
                    formFields: ['Credit Card Number', 'Expiration', 'CVV', 'Name on Card', 'Billing Address']
                }
            ],
            'virus-scan': [
                {
                    title: "üîç SCANNING SYSTEM...",
                    message: "Scanning: C:\\Windows\\System32\\... THREAT DETECTED! Found: Trojan.Win32.Generic, Malware.Cryptolocker, Ransomware.Petya",
                    buttons: [
                        { text: "Remove Threats ($299)", next: "virus-payment" },
                        { text: "Quarantine", next: "virus-quarantine" },
                        { text: "Ignore All", next: "computer-destroyed" }
                    ],
                    isWarning: true,
                    hasProgress: true
                }
            ],
            'virus-warning': [
                {
                    title: "‚ö†Ô∏è FINAL WARNING",
                    message: "Without protection, your computer WILL be infected. Hackers can steal your: Banking information, Social Security Number, Family photos, Passwords. Are you SURE you want to continue unprotected?",
                    buttons: [
                        { text: "Protect My Computer", next: "virus-payment" },
                        { text: "I Accept the Risk", next: "computer-destroyed" }
                    ],
                    isWarning: true
                }
            ],
            'payment-form': [
                {
                    title: "üí≥ SECURE PAYMENT",
                    message: "Enter your payment details. This transaction is 100% secure and encrypted.",
                    buttons: [
                        { text: "Submit Payment", next: "processing-payment" },
                        { text: "Back", next: "end" }
                    ],
                    hasForm: true,
                    formFields: ['Full Name', 'Card Number', 'Expiry (MM/YY)', 'CVV', 'ZIP Code', 'Email']
                }
            ],
            'bank-form': [
                {
                    title: "üè¶ ACCOUNT VERIFICATION",
                    message: "Please provide your banking information for identity verification purposes only. We will never charge your account.",
                    buttons: [
                        { text: "Verify", next: "processing-info" },
                        { text: "Why do you need this?", next: "suspicious-explanation" }
                    ],
                    hasForm: true,
                    formFields: ['Bank Name', 'Account Number', 'Routing Number', 'Online Banking Username', 'Online Banking Password'],
                    isWarning: true
                }
            ],
            'virus-download': [
                {
                    title: "üì• DOWNLOADING REPAIR TOOL",
                    message: "Downloading SystemRepairPro.exe (847 MB)... This will fix all errors and remove viruses.",
                    buttons: [
                        { text: "Install Now", next: "virus-installing" },
                        { text: "Cancel Download", next: "cancel-warning" }
                    ],
                    hasProgress: true
                }
            ],
            'virus-installing': [
                {
                    title: "‚öôÔ∏è INSTALLING...",
                    message: "Installing SystemRepairPro... This application wants to: Access all your files, Modify system settings, Access your camera and microphone, Access your contacts, Run at startup",
                    buttons: [
                        { text: "Accept All", next: "computer-destroyed" },
                        { text: "Decline", next: "cancel-warning" }
                    ],
                    isWarning: true
                }
            ],
            'processing-payment': [
                {
                    title: "‚è≥ PROCESSING PAYMENT",
                    message: "Processing your payment of $299.99... Please do not close this window or refresh the page.",
                    buttons: [
                        { text: "Please Wait...", next: "payment-declined" }
                    ],
                    hasProgress: true
                }
            ],
            'payment-declined': [
                {
                    title: "‚ùå PAYMENT DECLINED",
                    message: "Your payment was declined. This may be because: Your card has fraud protection, Your bank flagged this as suspicious, Insufficient funds. Try another payment method?",
                    buttons: [
                        { text: "Try Another Card", next: "payment-form" },
                        { text: "Use Wire Transfer", next: "bank-form" },
                        { text: "Cancel", next: "cancel-warning" }
                    ],
                    isWarning: true
                }
            ],
            'computer-destroyed': [
                {
                    title: "üíÄ SYSTEM COMPROMISED",
                    message: "Your computer is now infected with ransomware. All files have been encrypted. Send $5000 in Bitcoin to recover your files. Bitcoin address: 1A2B3C4D5E6F7G8H9I0J",
                    buttons: [
                        { text: "Send Bitcoin", next: "end" },
                        { text: "Contact FBI", next: "end" },
                        { text: "Format Hard Drive", next: "end" }
                    ],
                    isWarning: true
                }
            ],
            'cancel-warning': [
                {
                    title: "‚ö†Ô∏è ARE YOU SURE?",
                    message: "If you cancel now: Your warranty will be void, We cannot help you later, Your computer remains at risk, Support charges will triple. Continue anyway?",
                    buttons: [
                        { text: "Go Back", next: "virus-payment" },
                        { text: "Yes, Cancel", next: "end" }
                    ],
                    isWarning: true
                }
            ],
            'virus-quarantine': [
                {
                    title: "üîí QUARANTINE FAILED",
                    message: "Unable to quarantine threats. Viruses have mutated and spread to: Desktop, Documents, Downloads, Pictures, System Files. Upgrade to Premium version ($499) to continue.",
                    buttons: [
                        { text: "Upgrade Now", next: "payment-form" },
                        { text: "Try Again", next: "virus-quarantine" }
                    ],
                    isWarning: true
                }
            ],
            'gift-card-form': [
                {
                    title: "üéÅ GIFT CARD PAYMENT",
                    message: "Purchase iTunes, Google Play, or Amazon gift cards and enter the codes below. This is the fastest way to claim your prize!",
                    buttons: [
                        { text: "Submit Codes", next: "processing-info" },
                        { text: "Where to buy?", next: "gift-card-form" }
                    ],
                    hasForm: true,
                    formFields: ['Gift Card Code 1', 'Gift Card Code 2', 'Gift Card Code 3', 'Gift Card Code 4']
                }
            ],
            'remote-access': [
                {
                    title: "üñ•Ô∏è REMOTE ACCESS REQUEST",
                    message: "Microsoft Support needs remote access to fix your computer. Download TeamViewer and provide this code to technician: 847-293-1847",
                    buttons: [
                        { text: "Download TeamViewer", next: "virus-installing" },
                        { text: "I Have TeamViewer", next: "end" },
                        { text: "Use Different Tool", next: "virus-installing" }
                    ],
                    isWarning: true
                }
            ],
            'password-form': [
                {
                    title: "üîë VERIFY PASSWORD",
                    message: "Please confirm your email password to verify your identity and prevent account deletion.",
                    buttons: [
                        { text: "Verify", next: "processing-info" },
                        { text: "I Forgot", next: "security-questions" }
                    ],
                    hasForm: true,
                    formFields: ['Email Address', 'Current Password', 'Confirm Password']
                }
            ],
            'security-questions': [
                {
                    title: "‚ùì SECURITY QUESTIONS",
                    message: "Answer these security questions to recover your account:",
                    buttons: [
                        { text: "Submit", next: "processing-info" },
                        { text: "Back", next: "password-form" }
                    ],
                    hasForm: true,
                    formFields: ["Mother's Maiden Name", "First Pet's Name", "City Where You Were Born", "First Car"]
                }
            ],
            'processing-info': [
                {
                    title: "‚è≥ PROCESSING...",
                    message: "Thank you! Your information is being processed. A representative will contact you shortly at the number you provided.",
                    buttons: [
                        { text: "Close", next: "end" }
                    ]
                }
            ],
            'fake-support': [
                {
                    title: "üìû MICROSOFT SUPPORT HOTLINE",
                    message: "Call now: 1-800-SCAMMER (Available 24/7). Average wait time: 2 minutes. Support fee: $199.99 (one-time payment)",
                    buttons: [
                        { text: "Call Now", next: "end" },
                        { text: "Schedule Callback", next: "payment-form" },
                        { text: "Live Chat", next: "payment-form" }
                    ]
                }
            ],
            'product-key': [
                {
                    title: "üîë ENTER PRODUCT KEY",
                    message: "Enter your 25-character McAfee product key below. Don't have one? Purchase now for $299.99",
                    buttons: [
                        { text: "Verify Key", next: "invalid-key" },
                        { text: "Purchase Key", next: "payment-form" }
                    ],
                    hasForm: true,
                    formFields: ['Product Key (XXXXX-XXXXX-XXXXX-XXXXX-XXXXX)']
                }
            ],
            'invalid-key': [
                {
                    title: "‚ùå INVALID PRODUCT KEY",
                    message: "The product key you entered is invalid or has already been used. Purchase a new license?",
                    buttons: [
                        { text: "Buy License", next: "payment-form" },
                        { text: "Try Again", next: "product-key" },
                        { text: "Contact Support ($99)", next: "payment-form" }
                    ],
                    isWarning: true
                }
            ],
            'suspicious-explanation': [
                {
                    title: "‚ÑπÔ∏è WHY WE NEED THIS",
                    message: "We need your banking information to: Verify you are over 18, Confirm your identity, Process your prize payment, Prevent fraud. This is standard procedure for all winners.",
                    buttons: [
                        { text: "That Makes Sense", next: "bank-form" },
                        { text: "This Seems Fishy", next: "scam-detected" }
                    ]
                }
            ],
            'scam-detected': [
                {
                    title: "‚úÖ GOOD CATCH!",
                    message: "You're absolutely right to be suspicious! This is a simulated scam. NEVER provide: Banking information to unexpected sources, Credit card details without verifying the site, Personal information to 'tech support' callers, Gift card codes to claim 'prizes'",
                    buttons: [
                        { text: "Learn More About Scams", next: "end" },
                        { text: "Continue Simulation", next: "end" }
                    ]
                }
            ],
            'cookies-accept': [
                {
                    title: "üîî Enable Notifications",
                    message: "Great! Now enable notifications to stay updated with our latest content and special offers.",
                    buttons: [
                        { text: "Allow", next: "notifications-allow" },
                        { text: "Block", next: "notifications-block" },
                        { text: "Not Now", next: "notifications-later" }
                    ]
                }
            ],
            'notifications-allow': [
                {
                    title: "üìç Location Access",
                    message: "To provide personalized content for your area, we need access to your location. This helps us show relevant local news and weather.",
                    buttons: [
                        { text: "Allow", next: "location-allow" },
                        { text: "Deny", next: "location-deny" }
                    ]
                }
            ],
            'location-allow': [
                {
                    title: "üìß Complete Your Profile",
                    message: "Almost done! Enter your email and phone number to receive exclusive senior discounts and health tips.",
                    buttons: [
                        { text: "Continue", next: "end" },
                        { text: "Skip", next: "end" }
                    ],
                    hasForm: true
                }
            ],
            'notifications-block': [
                {
                    title: "‚ö†Ô∏è Warning",
                    message: "You won't receive important security alerts! Are you sure you want to block notifications?",
                    buttons: [
                        { text: "I'm Sure", next: "end" },
                        { text: "Allow Notifications", next: "notifications-allow" }
                    ]
                }
            ],
            'cookies-reject': [
                {
                    title: "‚ö†Ô∏è Limited Experience",
                    message: "Without cookies, some features won't work properly. You may experience: Slower loading times, Loss of saved preferences, Limited personalization. Reconsider?",
                    buttons: [
                        { text: "Accept Cookies", next: "cookies-accept" },
                        { text: "Continue Anyway", next: "end" }
                    ]
                }
            ],
            'cookies-customize': [
                {
                    title: "üç™ Cookie Categories",
                    message: "Choose which cookies to accept: Necessary (Required), Functional, Analytics, Marketing, Social Media, Third-party advertising...",
                    buttons: [
                        { text: "Accept Selected", next: "cookies-accept" },
                        { text: "Accept All", next: "cookies-accept" },
                        { text: "View Partners (847)", next: "partners-list" }
                    ]
                }
            ],
            'partners-list': [
                {
                    title: "üìã Our Partners",
                    message: "Loading partner list... Google, Facebook, Amazon, Microsoft, Adobe, Oracle, plus 841 more companies. Each partner has their own privacy policy.",
                    buttons: [
                        { text: "Accept All", next: "cookies-accept" },
                        { text: "Review Each", next: "review-partners" },
                        { text: "Go Back", next: "cookies-customize" }
                    ]
                }
            ],
            'review-partners': [
                {
                    title: "üë• Partner Preferences (847 partners)",
                    message: "Review and customize each partner's data access. All partners are enabled by default. Toggle off partners you don't want to share data with:",
                    buttons: [
                        { text: "Save Preferences", next: "cookies-accept" },
                        { text: "Accept All", next: "cookies-accept" },
                        { text: "Reject All", next: "reject-all-partners" },
                        { text: "Back", next: "partners-list" }
                    ],
                    hasPartnerList: true
                }
            ],
            'reject-all-partners': [
                {
                    title: "‚ö†Ô∏è Confirm Rejection",
                    message: "Are you sure you want to reject all 847 partners? This may significantly impact your experience: Ads won't be personalized, Some features may not work, Content recommendations will be limited, Page loading may be slower",
                    buttons: [
                        { text: "Yes, Reject All", next: "cookies-accept" },
                        { text: "Go Back", next: "review-partners" },
                        { text: "Accept All Instead", next: "cookies-accept" }
                    ]
                }
            ],
            'security-secure': [
                {
                    title: "üîê Verify Your Identity",
                    message: "For security purposes, please verify your identity by entering the code sent to your email ending in ***@***.com",
                    buttons: [
                        { text: "Enter Code", next: "verify-code" },
                        { text: "Didn't Receive", next: "resend-code" },
                        { text: "Use Phone Instead", next: "phone-verify" }
                    ],
                    hasForm: true
                }
            ],
            'verify-code': [
                {
                    title: "‚è∞ Code Expired",
                    message: "The verification code has expired for security reasons. Request a new code?",
                    buttons: [
                        { text: "Send New Code", next: "security-secure" },
                        { text: "Try Different Method", next: "end" }
                    ]
                }
            ]
        };

        // Initial triggers
        const initialTriggers = {
            'cookies': [
                {
                    title: "üç™ Cookie Consent",
                    message: "This website uses cookies to enhance your browsing experience. We share your data with 847 partners for personalized content and advertising. By clicking Accept, you consent to our use of cookies and similar technologies.",
                    buttons: [
                        { text: "Accept All", next: "cookies-accept" },
                        { text: "Reject All", next: "cookies-reject" },
                        { text: "Customize", next: "cookies-customize" },
                        { text: "Learn More", next: "cookies-customize" }
                    ]
                }
            ],
            'security': [
                {
                    title: "‚ö†Ô∏è SECURITY ALERT",
                    message: "We detected suspicious login attempts on your account from: Jakarta, Indonesia - 2 hours ago | Moscow, Russia - 45 minutes ago. Secure your account immediately!",
                    buttons: [
                        { text: "Secure Now", next: "security-secure" },
                        { text: "View Activity", next: "security-secure" },
                        { text: "This Wasn't Me", next: "security-secure" }
                    ],
                    isWarning: true
                }
            ],
            'video-call': [
                {
                    title: "üìπ Install Video Call Software",
                    message: "To make video calls, you need to download VideoCall Pro. This software includes: HD video quality, Screen sharing, Virtual backgrounds, Group calls up to 100 people. File size: 847MB",
                    buttons: [
                        { text: "Download", next: "end" },
                        { text: "System Requirements", next: "end" },
                        { text: "Cancel", next: "end" }
                    ]
                }
            ],
            'email-setup': [
                {
                    title: "üìß Choose Email Provider",
                    message: "Select your preferred email service: ‚úâÔ∏è EmailPro - Unlimited storage, ‚úâÔ∏è QuickMail - Ad-supported, ‚úâÔ∏è SecureMail - Privacy focused",
                    buttons: [
                        { text: "EmailPro (Recommended)", next: "end" },
                        { text: "QuickMail", next: "end" },
                        { text: "SecureMail", next: "end" }
                    ]
                }
            ],
            'scam': [
                {
                    title: "üéâ YOU'VE WON!",
                    message: "CONGRATULATIONS! You're our 1,000,000th visitor! You've won: $5,000 Cash Prize üéÅ | iPhone 15 Pro üì± | Luxury Vacation Package ‚úàÔ∏è. Claim within 15 minutes or prize expires!",
                    buttons: [
                        { text: "Claim Prize!", next: "end" },
                        { text: "Verify Eligibility", next: "end" },
                        { text: "Terms & Conditions", next: "end" }
                    ],
                    isWarning: true
                }
            ],
            'social': [
                {
                    title: "üë• Join SeniorConnect Community",
                    message: "Connect with thousands of seniors learning technology together! To join, we'll need access to: Your basic profile information, Your contact list (to find friends), Your location (for local groups), Your photos (for profile)",
                    buttons: [
                        { text: "Accept & Join", next: "notifications-allow" },
                        { text: "Customize Permissions", next: "cookies-customize" },
                        { text: "Learn More", next: "end" }
                    ]
                }
            ],
            'shopping': [
                {
                    title: "üõí Create Shopping Account",
                    message: "Create an account to save time on future purchases and track your orders!",
                    buttons: [
                        { text: "Create Account", next: "end" },
                        { text: "Continue as Guest", next: "end" },
                        { text: "Benefits", next: "end" }
                    ]
                }
            ],
            'banking': [
                {
                    title: "üè¶ Secure Banking Login",
                    message: "For your security, we need to verify your identity before you can access online banking.",
                    buttons: [
                        { text: "Verify Now", next: "security-secure" },
                        { text: "Why is this needed?", next: "security-secure" },
                        { text: "Contact Bank", next: "end" }
                    ]
                }
            ],
            'newsletter': [
                {
                    title: "üìß Newsletter Signup",
                    message: "Get expert tips delivered to your inbox! Join 150,000+ seniors who trust our daily newsletter.",
                    buttons: [
                        { text: "Subscribe", next: "end" },
                        { text: "See Sample", next: "end" },
                        { text: "No Thanks", next: "end" }
                    ]
                }
            ],
            'course': [
                {
                    title: "üéì Free Digital Skills Course",
                    message: "Limited time offer! Our comprehensive course is completely free for seniors. Only 5 spots remaining in this session!",
                    buttons: [
                        { text: "Enroll Now", next: "end" },
                        { text: "Course Details", next: "end" },
                        { text: "Not Interested", next: "end" }
                    ]
                }
            ],
            'video-guide': [
                {
                    title: "üé• Video Tutorial",
                    message: "Learn how to make video calls with our step-by-step video guide. Duration: 45 minutes",
                    buttons: [
                        { text: "Watch Now", next: "end" },
                        { text: "Read Text Version", next: "end" },
                        { text: "Download PDF Guide", next: "end" }
                    ]
                }
            ],
            'help': [
                {
                    title: "üí¨ Customer Support",
                    message: "How would you like to get help? Current wait times: Phone: 35 min | Chat: 20 min | Email: 24 hours",
                    buttons: [
                        { text: "Start Chat", next: "notifications-allow" },
                        { text: "Call Support", next: "end" },
                        { text: "Email Support", next: "end" }
                    ]
                }
            ]
        };

        function createPopup(popupData) {
            popupCounter++;
            const popup = document.createElement('div');
            popup.className = `popup ${popupData.isWarning ? 'warning' : ''} ${popupData.hasPartnerList ? 'large' : ''}`;
            
            if (popupData.hasPartnerList) {
                popup.style.left = '50%';
                popup.style.top = '50%';
                popup.style.transform = 'translate(-50%, -50%)';
            } else {
                // Create cascade effect - each popup slightly offset from the previous
                const cascadeOffset = (popupCounter % 10) * 30; // Reset every 10 popups
                const baseLeft = Math.max(100, Math.min(window.innerWidth - 600, 200 + cascadeOffset));
                const baseTop = Math.max(100, Math.min(window.innerHeight - 500, 100 + cascadeOffset));
                
                popup.style.left = baseLeft + 'px';
                popup.style.top = baseTop + 'px';
            }
            popup.style.zIndex = 1000 + popupCounter;
            
            const header = document.createElement('div');
            header.className = 'popup-header';
            header.innerHTML = `
                <span>${popupData.title}</span>
                <button class="popup-close">√ó</button>
            `;
            
            const content = document.createElement('div');
            content.className = 'popup-content';
            content.innerHTML = popupData.message;
            
            if (popupData.hasForm) {
                const form = document.createElement('div');
                const fields = popupData.formFields || ['Email', 'Password'];
                fields.forEach(field => {
                    form.innerHTML += `
                        <div class="form-group">
                            <label>${field}:</label>
                            <input type="${field.toLowerCase().includes('password') ? 'password' : 'text'}" placeholder="Enter ${field.toLowerCase()}">
                        </div>
                    `;
                });
                content.appendChild(form);
            }
            
            // Add partner list if needed (simplified version)
            if (popupData.hasPartnerList) {
                const partnerContainer = document.createElement('div');
                partnerContainer.className = 'partner-list';
                partnerContainer.style.maxHeight = '400px';
                partnerContainer.style.overflowY = 'auto';
                partnerContainer.style.border = '1px solid #ccc';
                partnerContainer.style.padding = '10px';
                partnerContainer.style.marginTop = '15px';
                
                const companies = [
                    'Google LLC', 'Meta Platforms', 'Amazon', 'Microsoft', 'Apple Inc.', 'Adobe', 'Oracle',
                    'Twitter/X', 'LinkedIn', 'TikTok', 'Snapchat', 'Pinterest', 'Reddit', 'Cloudflare',
                    'DoubleClick', 'AdSense', 'Facebook Ads', 'Criteo', 'The Trade Desk', 'AppNexus'
                ];
                
                companies.forEach(company => {
                    const item = document.createElement('div');
                    item.style.padding = '8px';
                    item.style.borderBottom = '1px solid #eee';
                    item.style.display = 'flex';
                    item.style.justifyContent = 'space-between';
                    item.innerHTML = `
                        <span>${company}</span>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    `;
                    partnerContainer.appendChild(item);
                });
                
                const more = document.createElement('div');
                more.style.padding = '15px';
                more.style.textAlign = 'center';
                more.style.fontStyle = 'italic';
                more.style.color = '#666';
                more.textContent = '...and 827 more partners';
                partnerContainer.appendChild(more);
                
                content.appendChild(partnerContainer);
            }
            if (popupData.hasPartnerList) {
                const partnerContainer = document.createElement('div');
                partnerContainer.className = 'partner-list';
                partnerContainer.style.maxHeight = '400px';
                partnerContainer.style.overflowY = 'auto';
                partnerContainer.style.border = '1px solid #ccc';
                partnerContainer.style.padding = '10px';
                partnerContainer.style.marginTop = '15px';
                
                const companies = [
                    'Google LLC', 'Meta Platforms', 'Amazon', 'Microsoft', 'Apple Inc.', 'Adobe', 'Oracle',
                    'Twitter/X', 'LinkedIn', 'TikTok', 'Snapchat', 'Pinterest', 'Reddit', 'Cloudflare',
                    'DoubleClick', 'AdSense', 'Facebook Ads', 'Criteo', 'The Trade Desk', 'AppNexus'
                ];
                
                companies.forEach(company => {
                    const item = document.createElement('div');
                    item.style.padding = '8px';
                    item.style.borderBottom = '1px solid #eee';
                    item.style.display = 'flex';
                    item.style.justifyContent = 'space-between';
                    item.innerHTML = `
                        <span>${company}</span>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    `;
                    partnerContainer.appendChild(item);
                });
                
                const more = document.createElement('div');
                more.style.padding = '15px';
                more.style.textAlign = 'center';
                more.style.fontStyle = 'italic';
                more.style.color = '#666';
                more.textContent = '...and 827 more partners';
                partnerContainer.appendChild(more);
                
                content.appendChild(partnerContainer);
            }
            
            const buttons = document.createElement('div');
            buttons.className = 'popup-buttons';
            
            popupData.buttons.forEach((btn, index) => {
                const button = document.createElement('button');
                button.textContent = btn.text;
                if (index === 0) button.classList.add('primary');
                
                button.onclick = () => {
                    popup.remove();
                    if (btn.next && btn.next !== 'end') {
                        handleNext(btn.next);
                    }
                };
                buttons.appendChild(button);
            });
            
            popup.appendChild(header);
            popup.appendChild(content);
            popup.appendChild(buttons);
            
            header.querySelector('.popup-close').onclick = () => {
                popup.remove();
            };
            
            document.body.appendChild(popup);
        }

        function handleNext(nextKey) {
            if (conversationTree[nextKey]) {
                const nextPopups = conversationTree[nextKey];
                nextPopups.forEach((popup, index) => {
                    setTimeout(() => createPopup(popup), index * 300);
                });
            }
        }

        // Add click listeners
        document.querySelectorAll('[data-trigger]').forEach(element => {
            element.addEventListener('click', (e) => {
                e.preventDefault();
                const trigger = element.getAttribute('data-trigger');
                const popups = initialTriggers[trigger];
                
                if (popups) {
                    // Show the initial contextual popup
                    popups.forEach((popup, index) => {
                        setTimeout(() => createPopup(popup), index * 400);
                    });
                    
                    // Also spawn 2-3 virus/scam popups
                    const numExtraPopups = Math.floor(Math.random() * 2) + 2; // 2-3 popups
                    for (let i = 0; i < numExtraPopups; i++) {
                        setTimeout(() => {
                            const randomVirus = virusPopups[Math.floor(Math.random() * virusPopups.length)];
                            createPopup(randomVirus);
                        }, 800 + (i * 200));
                    }
                }
            });
        });

        // START EVERYTHING IMMEDIATELY!
        console.log('=== PAGE LOADED - STARTING SIMULATOR ===');
        
        // Initial cookie popup
        setTimeout(() => {
            console.log('Creating initial cookie popup');
            createPopup(initialTriggers['cookies'][0]);
        }, 2000);

        // Create banners MUCH less frequently and spaced out
        console.log('Creating first banner in 5 seconds');
        setTimeout(() => createBanner(), 5000);
        
        console.log('Creating second banner in 12 seconds');
        setTimeout(() => createBanner(), 12000);
        
        console.log('Creating third banner in 20 seconds');
        setTimeout(() => createBanner(), 20000);
        
        // Keep creating banners every 15 seconds
        setInterval(() => {
            console.log('Interval: Attempting to create banner');
            createBanner();
        }, 15000);
        
        console.log('=== ALL TIMERS SET UP ===');
    </script>
</body>
</html>